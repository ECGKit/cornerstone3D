# Uploading test studies to S3

When creating an example and you don't find an existing study to use that fits your needs, you can upload a new study to our dataset. Please include the dicom files in the `tests/studies-to-upload-to-s3` folder. When you open a pull request, and it's merged, the studies will be uploaded to our S3 bucket and removed from here, they will then be available for everyone to use on https://d3t6nz73ql33tx.cloudfront.net/dicomweb

## Folder structure

For your tests to work with the local files correctly, you should place each study in a separate folder. The folder name should be the study instance UID. Inside the folder, you create a folder for each series, and the series folder should be named with the series instance UID. Inside the series folder, you should place the dicom files. The dicom files should be named with the SOP instance UID.

Here is an example of the folder structure if you have one studies with two series:

```
tests/studies-to-upload-to-s3/
└── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1
    ├── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.1
    │   ├── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.1.1.dcm
    │   └── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.1.2.dcm
    └── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.2
        ├── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.2.1.dcm
        └── 1.2.840.113619.2.176.3596.6358730.9246.1115801347.1.2.2.dcm
```

It's essential to have the correct UIDs in the folder names and file names, the UIDS you use should match the metadata in the dicom files, since our upload process will use the metadata to generate the correct UIDs for the study, series, and SOP instance.

If you don't use the correct UIDS, your test might work locally, but it will not work when the study is uploaded to the S3 bucket, since there will be a mismatch between the UIDs you used in your code and the UIDs generated by the upload process.
